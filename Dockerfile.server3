# Задаем базовый образ
FROM golang:1.19

# Устанавливаем рабочую директорию внутри контейнера
WORKDIR /go/src/app

# Создай папку photos
RUN mkdir photos

# Копируем исходный код в контейнер
COPY . .

# Устанавливаем зависимости (если есть)
RUN go mod download

# Собираем приложение
RUN go build ./server/photos/main.go

# Задаем команду, которая будет запускаться при старте контейнера
CMD ["./main"]
